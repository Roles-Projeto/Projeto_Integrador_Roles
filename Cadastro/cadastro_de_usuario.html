<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro - Rol√™s</title>
    <link rel="stylesheet" href="../css/cadastro_de_usuario.css"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body>
    <header>
        <div id="header-wrap">
            <iframe id="site-header" src="../header/header.html" frameborder="0" scrolling="no" width="100%"
                height="80"></iframe>
        </div>
    </header>

    <main class="container">
        <div class="card">
            <div class="user-icon">
                <i class="fa-solid fa-user"></i>
            </div>
            <h2>Criar Conta de Usu√°rio</h2>
            <p>Encontre os melhores lugares para sair e se divertir em <strong>Goi√¢nia</strong></p>

            <div class="social-buttons">
                <button class="google"><i class="fab fa-google"></i> Cadastrar-se com Google</button>
                <button class="facebook"><i class="fab fa-facebook-f"></i> Cadastrar-se com Facebook</button>
            </div>

            <div class="divider">OU CADASTRE-SE COM EMAIL</div>

            <form id="cadastroForm">
                <label>Nome Completo</label>
                <input type="text" id="nome" placeholder="Seu nome completo" required>

                <label>Email</label>
                <input type="email" id="email" placeholder="seu@email.com" required>

                <label>Telefone (opcional)</label>
                <input type="tel" id="telefone" placeholder="(62) 99999-9999">

                <label>Senha</label>
                <input type="password" id="senha" placeholder="M√≠nimo 6 caracteres" required minlength="6">

                <label>Confirmar Senha</label>
                <input type="password" id="confirmarSenha" placeholder="Digite novamente sua senha" required>

                <button type="submit" class="btn-criar">Criar Conta</button>
            </form>

            <p class="termos">
                Ao criar uma conta, voc√™ concorda com nossos <a href="#">Termos de Uso</a> e <a href="#">Pol√≠tica de
                    Privacidade</a>.
            </p>

            <p class="login">
                J√° tem uma conta? <a href="../login/login.html">Fazer login</a><br>
                √â empres√°rio? <a href="../Cadastrar/cadastro.html">Cadastre seu estabelecimento</a>
            </p>
        </div>
    </main>

    <footer>
        <iframe src="../footer/footer.html" frameborder="0" scrolling="no" width="100%" height="auto"></iframe>
    </footer>

</body>

<script>
    const form = document.getElementById('cadastroForm');

    form.addEventListener('submit', (e) => {
        e.preventDefault();

        // Captura os dados DO FORMUL√ÅRIO (essencial para o Perfil)
        const nome = document.getElementById('nome').value;
        const email = document.getElementById('email').value;
        const telefone = document.getElementById('telefone').value;
        const senha = document.getElementById('senha').value;
        const confirmar = document.getElementById('confirmarSenha').value;

        // 1. Valida√ß√£o de Senhas (MANTIDA, pois s√£o alertas de ERRO)
        if (senha !== confirmar) {
            alert('As senhas n√£o coincidem!');
            return;
        }

        if (senha.length < 6) {
            alert('A senha deve ter no m√≠nimo 6 caracteres.');
            return;
        }

        // --- SALVAMENTO E LOGIN AUTOM√ÅTICO ---

        // 2. Salva o estado de Login e os DADOS CAPTURADOS (Nome, Email, Telefone) no localStorage
        localStorage.setItem('userIsLoggedIn', 'true');
        localStorage.setItem('userType', 'cliente'); 
        
        // üöÄ SALVA OS DADOS DO FORMUL√ÅRIO PARA O PERFIL DE USU√ÅRIO
        localStorage.setItem('profileName', nome);
        localStorage.setItem('profileEmail', email);
        localStorage.setItem('profilePhone', telefone || '(N√£o informado)');
        
        // Mant√©m a imagem padr√£o
        localStorage.setItem('profilePhotoUrl', 'https://via.placeholder.com/150'); 

        // 3. REMOVIDO: O alert de confirma√ß√£o foi removido daqui.
        
        // 4. Redireciona para a p√°gina inicial, finalizando o processo
        window.location.href = '../index.html';
    });
</script>

</html>